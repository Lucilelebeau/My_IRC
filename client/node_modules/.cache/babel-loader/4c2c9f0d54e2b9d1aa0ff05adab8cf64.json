{"ast":null,"code":"var _jsxFileName = \"/home/my_irc/client/src/components/home.js\";\nimport React, { useState, useEffect } from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport '../css/home.css';\nimport Navbar from '../components/navbar.js';\nimport Chat from './chat.js';\nimport socket from './connect.js';\nimport Room from './room.js';\nimport ListUsers from './listUser.js';\n\nfunction Home(history) {\n  const nameLog = history.location.state.login;\n  const time = new Date().toLocaleString();\n  const [chat, setChat] = useState({\n    message: '',\n    name: nameLog,\n    type: 'send',\n    room: '',\n    date: time\n  });\n  const [actualRoom, setActualRoom] = useState([]);\n  socket.on('actualRoom', room => {\n    setActualRoom(room);\n  });\n\n  const onMessageSubmit = e => {\n    e.preventDefault();\n    console.log(actualRoom);\n    const {\n      name,\n      message,\n      type,\n      date\n    } = chat;\n    socket.emit('message', {\n      name,\n      message,\n      type,\n      actualRoom,\n      date\n    });\n    setChat({\n      message: '',\n      name,\n      type,\n      actualRoom\n    });\n  };\n\n  const onTextChange = e => {\n    setChat({ ...chat,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      console.log('Timeout called!'), socket.emit;\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"container_size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 3,\n    className: \"channel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Room, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 24\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    xs: 6,\n    className: \"col_chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Chat, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    className: \"form_size\",\n    onSubmit: onMessageSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 62\n    }\n  }, \"\\\"\", chat.name, \"\\\"\"), \" say :\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"message\",\n    value: chat.message,\n    onChange: e => onTextChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"button\",\n    variant: \"dark\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }, \"Send\"))), /*#__PURE__*/React.createElement(Col, {\n    xs: 3,\n    className: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"List connected\"), /*#__PURE__*/React.createElement(ListUsers, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  })))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/my_irc/client/src/components/home.js"],"names":["React","useState","useEffect","Container","Row","Col","Form","Button","Navbar","Chat","socket","Room","ListUsers","Home","history","nameLog","location","state","login","time","Date","toLocaleString","chat","setChat","message","name","type","room","date","actualRoom","setActualRoom","on","onMessageSubmit","e","preventDefault","console","log","emit","onTextChange","target","value","timer","setTimeout","clearTimeout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport '../css/home.css'\nimport Navbar from '../components/navbar.js'\nimport Chat from './chat.js'\nimport socket from './connect.js'\nimport Room from './room.js'\nimport ListUsers from './listUser.js'\n\n\nfunction Home(history){\n    const nameLog = history.location.state.login\n    const time = new Date().toLocaleString()\n    const [chat, setChat] = useState({ message: '', name: nameLog, type:'send', room:'', date: time})\n\n    const [actualRoom, setActualRoom] = useState([])\n    socket.on('actualRoom', room => {\n      setActualRoom(room)\n    })\n\n\n    const onMessageSubmit = e => {\n        e.preventDefault()\n        console.log(actualRoom)\n        const { name, message, type, date } = chat\n        socket.emit('message', { name, message, type, actualRoom, date})\n        setChat({ message: '', name, type , actualRoom})\n    }\n\n    const onTextChange = e => {\n        setChat({ ...chat, [e.target.name]: e.target.value })\n    }\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n          console.log('Timeout called!'),\n          socket.emit;\n        }, 3000);\n        return () => clearTimeout(timer);\n      }, []);\n\n\n    return(\n        <div>\n            <Navbar/>\n            <Container fluid className=\"container_size\">\n                <Row>\n                    <Col xs={3} className=\"channel\">\n                       <Room/>\n                    </Col>\n                    <Col xs={6} className=\"col_chat\">\n                        <Chat/>\n                        <Form className=\"form_size\" onSubmit={onMessageSubmit}>\n                            <Form.Group className=\"form\">\n                                <Form.Label className=\"form\"><b>\"{chat.name}\"</b> say :</Form.Label>\n                                <Form.Control type=\"text\" name=\"message\" value={chat.message} onChange={e => onTextChange(e)}/>\n                            </Form.Group>\n                            <Button className=\"button\" variant=\"dark\" type=\"submit\">\n                                Send\n                            </Button>\n                        </Form>\n                    </Col>\n                    <Col xs={3} className=\"list\">\n                        <h3>List connected</h3>\n                        <ListUsers/>\n                    </Col>\n                </Row>\n            </Container>            \n        </div>\n    )\n    \n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}